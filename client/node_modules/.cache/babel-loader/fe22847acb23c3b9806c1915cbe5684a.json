{"ast":null,"code":"var _jsxFileName = \"/Users/josuedavid/Documents/react/frontend/src/components/updateTodo.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function UpdateTodo(_ref) {\n  _s();\n\n  var _this = this;\n\n  let {\n    _id,\n    run\n  } = _ref;\n  return function (run) {\n    const [data, setData] = useState({\n      title: \"\",\n      description: \"\"\n    });\n    const [update, setUpdate] = useState(null);\n    useEffect(() => {\n      run();\n      console.log(data);\n    }, [update]);\n\n    function run() {\n      axios.get(\"http://localhost:8000/todo\").then(res => {\n        // console.log(res.data);\n        setData(res.data);\n      }).catch(err => {\n        console.log(err.message);\n      });\n    }\n\n    function handleChange(e) {\n      setData(data => ({ ...data,\n        [e.target.name]: e.target.value\n      }));\n    }\n\n    function handleSubmit(e) {\n      e.preventDefault();\n      console.log({\n        _id\n      }, {\n        data\n      });\n      axios.put(`http://localhost:8000/${_id}`, data).then(res => {\n        setData({\n          title: \"\",\n          description: \"\"\n        });\n        console.log(res.data.message);\n        run();\n      }).catch(err => {\n        console.log(\"Failed to update todo\");\n        console.log(err.message);\n      });\n      setUpdate(\"\");\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-container\",\n      onSubmit: e => {\n        handleSubmit(e);\n        handleChange(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"title\",\n        className: \"label\",\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        className: \"input\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"description\",\n        className: \"label\",\n        children: \"Description\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"description\",\n        className: \"input\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"button\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, _this);\n  }(run);\n}\n\n_s(UpdateTodo, \"hpFpFJ4xzipZO6LLWumoh/29Atk=\");\n\n_c = UpdateTodo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateTodo\");","map":{"version":3,"sources":["/Users/josuedavid/Documents/react/frontend/src/components/updateTodo.js"],"names":["useEffect","useState","axios","UpdateTodo","_id","run","data","setData","title","description","update","setUpdate","console","log","get","then","res","catch","err","message","handleChange","e","target","name","value","handleSubmit","preventDefault","put"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,OAAO,SAASC,UAAT;AAAA;;AAAA;;AAAA,MAAoB;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,GAApB;AAAA,wBAAiC;AACpC,UAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC;AAAEO,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,WAAW,EAAE;AAA1B,KAAD,CAAhC;AACA,UAAM,CAACC,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,IAAD,CAApC;AACAD,IAAAA,SAAS,CAAC,MAAM;AACZK,MAAAA,GAAG;AACJO,MAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACF,KAHQ,EAGN,CAACI,MAAD,CAHM,CAAT;;AAKA,aAASL,GAAT,GAAe;AACbH,MAAAA,KAAK,CACAY,GADL,CACS,4BADT,EAEKC,IAFL,CAEWC,GAAD,IAAS;AACX;AACAT,QAAAA,OAAO,CAACS,GAAG,CAACV,IAAL,CAAP;AACH,OALL,EAMKW,KANL,CAMYC,GAAD,IAAS;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,OAAhB;AACH,OARL;AASD;;AAGD,aAASC,YAAT,CAAsBC,CAAtB,EAAyB;AACrBd,MAAAA,OAAO,CAAED,IAAD,KAAW,EAAE,GAAGA,IAAL;AAAW,SAACe,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAArC,OAAX,CAAD,CAAP;AACH;;AAED,aAASC,YAAT,CAAsBJ,CAAtB,EAAyB;AACrBA,MAAAA,CAAC,CAACK,cAAF;AAEAd,MAAAA,OAAO,CAACC,GAAR,CAAY;AAAET,QAAAA;AAAF,OAAZ,EAAqB;AAAEE,QAAAA;AAAF,OAArB;AAEAJ,MAAAA,KAAK,CACAyB,GADL,CACU,yBAAwBvB,GAAI,EADtC,EACyCE,IADzC,EAEKS,IAFL,CAEWC,GAAD,IAAS;AACXT,QAAAA,OAAO,CAAC;AAAEC,UAAAA,KAAK,EAAE,EAAT;AAAaC,UAAAA,WAAW,EAAE;AAA1B,SAAD,CAAP;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACV,IAAJ,CAASa,OAArB;AACAd,QAAAA,GAAG;AACN,OANL,EAOKY,KAPL,CAOYC,GAAD,IAAS;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAG,CAACC,OAAhB;AACH,OAVL;AAWIR,MAAAA,SAAS,CAAC,EAAD,CAAT;AACP;;AAED,wBACI;AACI,MAAA,SAAS,EAAC,gBADd;AAEI,MAAA,QAAQ,EAAGU,CAAD,IAAO;AACbI,QAAAA,YAAY,CAACJ,CAAD,CAAZ;AACAD,QAAAA,YAAY,CAACC,CAAD,CAAZ;AACH,OALL;AAAA,8BAOI;AAAO,QAAA,OAAO,EAAC,OAAf;AAAuB,QAAA,SAAS,EAAC,OAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAPJ,eAUI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,IAAI,EAAC,OAFT;AAGI,QAAA,SAAS,EAAC,OAHd;AAII,QAAA,QAAQ,EAAED;AAJd;AAAA;AAAA;AAAA;AAAA,eAVJ,eAgBI;AAAO,QAAA,OAAO,EAAC,aAAf;AAA6B,QAAA,SAAS,EAAC,OAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAhBJ,eAmBI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,IAAI,EAAC,aAFT;AAGI,QAAA,SAAS,EAAC,OAHd;AAII,QAAA,QAAQ,EAAEA;AAJd;AAAA;AAAA;AAAA;AAAA,eAnBJ,eAyBI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,QAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAzBJ;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ;AA+BH,GA3EM;AAAA;;GAASjB,U;;KAAAA,U","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport function UpdateTodo({ _id, run}) {\n    const [data, setData] = useState({ title: \"\", description: \"\" });\n    const [update, setUpdate] = useState(null);\n    useEffect(() => {\n        run()\n       console.log(data)\n    }, [update])\n    \n    function run() {\n      axios\n          .get(\"http://localhost:8000/todo\")\n          .then((res) => {\n              // console.log(res.data);\n              setData(res.data);\n          })\n          .catch((err) => {\n              console.log(err.message);\n          });\n    }\n\n    \n    function handleChange(e) {\n        setData((data) => ({ ...data, [e.target.name]: e.target.value }));\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        console.log({ _id }, { data });\n\n        axios\n            .put(`http://localhost:8000/${_id}`, data)\n            .then((res) => {\n                setData({ title: \"\", description: \"\" });\n                console.log(res.data.message);\n                run()\n            })\n            .catch((err) => {\n                console.log(\"Failed to update todo\");\n                console.log(err.message);\n            });\n            setUpdate(\"\");\n    }\n\n    return (\n        <form\n            className=\"form-container\"\n            onSubmit={(e) => {\n                handleSubmit(e);\n                handleChange(e);\n            }}\n        >\n            <label htmlFor=\"title\" className=\"label\">\n                Title\n            </label>\n            <input\n                type=\"text\"\n                name=\"title\"\n                className=\"input\"\n                onChange={handleChange}\n            />\n            <label htmlFor=\"description\" className=\"label\">\n                Description\n            </label>\n            <input\n                type=\"text\"\n                name=\"description\"\n                className=\"input\"\n                onChange={handleChange}\n            />\n            <button type=\"submit\" className=\"button\">\n                Submit\n            </button>\n        </form>\n    );\n}"]},"metadata":{},"sourceType":"module"}