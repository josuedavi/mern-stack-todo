{"ast":null,"code":"var _jsxFileName = \"/Users/josuedavid/Documents/react/frontend/src/components/updateTodo.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function UpdateTodo(_ref) {\n  _s();\n\n  let {\n    _id,\n    toggle\n  } = _ref;\n  const [data, setData] = useState({\n    title: \"\",\n    description: \"\"\n  });\n  const [update, setUpdate] = useState(null);\n  useEffect(() => {\n    run();\n    console.log(data);\n  }, [update]);\n\n  function run() {\n    axios.get(\"http://localhost:8000/todo\").then(res => {\n      // console.log(res.data);\n      setData(res.data);\n    }).catch(err => {\n      console.log(err.message);\n    });\n  }\n\n  function handleChange(e) {\n    setData(data => ({ ...data,\n      [e.target.name]: e.target.value\n    }));\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    console.log({\n      _id\n    }, {\n      data\n    });\n    axios.put(`http://localhost:8000/${_id}`, data).then(res => {\n      setData({\n        title: \"\",\n        description: \"\"\n      });\n      console.log(res.data.message);\n      run();\n    }).catch(err => {\n      console.log(\"Failed to update todo\");\n      console.log(err.message);\n    });\n    toggle(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"form-container\",\n    onSubmit: e => {\n      handleSubmit(e);\n      handleChange(e);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Update Task  \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          id: \"text\",\n          value: data.title,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        size: \"60\",\n        type: \"submit\",\n        className: \"green\",\n        className: \"same btn btn-block\",\n        value: \"Create Todo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UpdateTodo, \"hpFpFJ4xzipZO6LLWumoh/29Atk=\");\n\n_c = UpdateTodo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateTodo\");","map":{"version":3,"sources":["/Users/josuedavid/Documents/react/frontend/src/components/updateTodo.js"],"names":["useEffect","useState","axios","UpdateTodo","_id","toggle","data","setData","title","description","update","setUpdate","run","console","log","get","then","res","catch","err","message","handleChange","e","target","name","value","handleSubmit","preventDefault","put","textAlign"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nexport function UpdateTodo({ _id, toggle}) {\n    const [data, setData] = useState({ title: \"\", description: \"\" });\n    const [update, setUpdate] = useState(null);\n    useEffect(() => {\n        run()\n       console.log(data)\n    }, [update])\n    \n    function run() {\n      axios\n          .get(\"http://localhost:8000/todo\")\n          .then((res) => {\n              // console.log(res.data);\n              setData(res.data);\n          })\n          .catch((err) => {\n              console.log(err.message);\n          });\n    }\n\n    \n    function handleChange(e) {\n        setData((data) => ({ ...data, [e.target.name]: e.target.value }));\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        console.log({ _id }, { data });\n\n        axios\n            .put(`http://localhost:8000/${_id}`, data)\n            .then((res) => {\n                setData({ title: \"\", description: \"\" });\n                console.log(res.data.message);\n                run()\n            })\n            .catch((err) => {\n                console.log(\"Failed to update todo\");\n                console.log(err.message);\n            });\n            toggle(true)\n    }\n\n    return (\n        <form\n            className=\"form-container\"\n            onSubmit={(e) => {\n                handleSubmit(e);\n                handleChange(e);\n            }}\n        >\n           <div style={{textAlign: \"center\"}}>\n       \n         \n        \n                <h1>Update Task  <input\n                      type=\"text\"\n                      name=\"title\"\n                      id=\"text\"\n                      value={data.title}\n                      onChange={handleChange}\n                     \n               \n                  />\n                </h1>\n                  <input  size=\"60\" type=\"submit\" className=\"green\" className=\"same btn btn-block\" value=\"Create Todo\"/>\n                    \n                 \n         </div>\n      \n\n        </form>\n    );\n}"]},"metadata":{},"sourceType":"module"}